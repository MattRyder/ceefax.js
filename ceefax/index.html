<!DOCTYPE html>
<head>
	<title>BBC Ceefax in HTML5</title>
	<link rel="stylesheet" type="text/css" href="index.css" />
  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script src="ceefax.js"></script>
</head>
<body>
  <center>
    <div id="title"><a href="http://www.github.com/MattRyder/ceefax.js" style="text-decoration:none">Ceefax.js</a></div>
    <div id="subtitle">The Red Button is not a valid substitute!</div>
    <canvas id="myCanvas" width="640" height="480"> <p>Come back when you've got a HTML5 enabled browser, buddy!</p> </canvas>
    <div class="text">Use the numeric keys to change page<br />(BetaSignal returns ~90, so 000-090 for this demo)</div>
  </center>

  <script>

  /* LIVE TEST DATA FROM NEWS FEED */
  // Use BetaSignal to grab some test data:
  $.getJSON('http://betasignal.com/api/1.0/json/clusters_callback.js?callback=?', {});

  var betasignal_clusters = function( jsonData ) {
    $.each(jsonData, function(i, article) {
      Ceefax.Pages.push(new CeefaxPage(i, article.source, article.title, article.summary));
    });
  }

  Ceefax.run("myCanvas", 1000/30, 100);
  </script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38339135-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>